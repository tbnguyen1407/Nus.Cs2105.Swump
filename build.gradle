plugins {
    id 'com.github.ben-manes.versions' version '0.17.0'
    id 'org.gradle.distribution'
    id 'org.gradle.java'
}

// project
group = 'com.cs2105'
archivesBaseName = 'swump'
version = '1.0.0'

// dependencies
repositories {
    flatDir {
            dirs "$rootProject.projectDir/lib"
        }
    jcenter()

}

dependencies {
    compile name: 'jacop-4.5.0'
    runtime 'org.xerial:sqlite-jdbc:3.21.0'

}

// java plugin
compileJava.options.encoding = 'UTF-8'
sourceCompatibility = '1.8'
targetCompatibility = '1.8'

jar {
    from {
        (configurations.runtime).collect {
            it.isDirectory() ? it : zipTree(it)
        }
    }
    manifest {
        attributes(
                'Implementation-Title': "Swump!",
                'Implementation-Version': version,
                'Main-Class': 'com.cs2105.swump.App'
        )
    }
}

// distribution plugin
distTar.enabled = false

distributions {
    main {
        baseName = archivesBaseName
        contents { from jar }
    }
}
